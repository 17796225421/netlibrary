



![image-20211107153710288](image/image-20211107153710288.png)



![image-20211106163039308](image/image-20211106163039308.png)

 	

# 代码分析



## noncopyable类

它是把拷贝构造和赋值直接给delete掉了，这是c++11的操作。同时默认构造和析构为保护，保护是什么意思？也就是派生类能访问，但是外部无法访问。我们知道，派生类的拷贝构造跟赋值肯定要先调用基类部分的拷贝构造跟赋值，但是基类的拷贝构造跟赋值直接被delete掉了，也就是派生类不可拷贝构造也不能赋值。

## Logger类

​	日志类它有四种级别，INFO，ERROR，FATAL，DEBUG，其中ERROR可能不会导致程序崩溃，但是FATAL是严重错误会让程序崩溃。

​	日志要用到时间，会用到一个timestamp时间戳类来获取当前时间。

​	日志类我们要用它，只想要调用四个函数，不想要管太多，所以他需要有四个函数输出四种级别的信息，这样我们就可以直接使用这四个函数来使用日志了，同时大多数情况下我们默认是不输出debug日志的，所以如果你不#define MUDEBUG，我们的DEBUG函数是不会输出内容的。我们也不想要过于关注日志类的创建，我们其他服务只想要使用这四个函数，所以设置了单例模式生成一次静态对象后就可以任意使用这四个函数了。

## Timestamp类

​	时间戳需要一个int64整数来保存时间。int64时间用函数now来获取，我们还要把int64时间转化为string才能拿来使用，也就是外界要获得时间，只需要调用now得到当前时间给toString就完了。把now设置为类静态函数，因为now获取当前时间和对象无关系，我们就可以不用创建对象就能使用now了。 

​	带了参数的构造函数我们都要加explicit，因为我们的形参是int64，我们不想要让它发生隐式类型转化，参数类型不同就给我报错。

## InetAddress类

​	这个类，只要我给实例初始值ip和port，就能够将类中的addr_in数据成员初始化，有了addr_in数据成员就能拿来之后初始化服务器listenfd。

​	我们端口号是uint16_t有大端和小端的区分。Linux平台是小端，但是网络上是大端。对于端口号，要送上网络的都要用htons转化为大端，要给用户看见的都要用ntohs转化为小端。

​	我们看到的ip地址都是xxx.xxx.xxx.xxx的，但是不利于计算机存储，所以计算机都是用inet_addr转化为uint32_t，当然是存放在addr_in对象中，看得出为了方便计算机和网络，我们都把人看得懂的ip和port转化后放到addr_in中

## Channel类

## Poll类

## EPollPoller类

## EventLoop类

## Thread类

## EventLoopThread类





# 遇到的问题

## git

遇到意外先删除再clone再add再push再commit